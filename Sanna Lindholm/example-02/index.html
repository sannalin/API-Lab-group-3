<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/handtrackjs/dist/handtrack.min.js"></script>
    <meta charset="utf-8" />
    <title></title>
    <style>
      #button {
        color: white;
        background-color: rgb(16, 136, 32);
        display: inline-block;
        margin: 12px;
        padding: 12px;
      }
    </style>
  </head>
  <body>
    <video id="video"></video>
    <canvas id="canvas" class="border"></canvas>
    <div id="button">Start camera</div>
    <script>
      // Notice there is no 'import' statement. 'handTrack' and 'tf' is
      // available on the index-page because of the script tag above.
      const video = document.getElementById("video");
      const canvas = document.getElementById("canvas");
      const context = canvas.getContext("2d");
      // start webcam video stream on given video element

      // Load the model.
      handTrack.load().then((model) => {
        // detect objects in the video.
        function runDetection() {
          model.detect(video).then((predictions) => {
            model.renderPredictions(predictions, canvas, context, video);
            requestAnimationFrame(runDetection);
          });
        }
        beginVideo();
        function beginVideo() {
          handTrack.startVideo(video).then(function (status) {
            if (status) {
              videoOn = true;
              runDetection();
            }
          });
        }
      });
    </script>
  </body>
</html>
